<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    
<link rel="stylesheet" href="/css/dosis.min.css">


<link rel="stylesheet" href="/css/tachyons.min.css">


<link rel="stylesheet" href="/css/style.min.css">


<link rel="stylesheet" href="/css/fontawesome.min.css">


            <title>l1x/dev | Starting with Hugo, the hard way </title>
        
    


    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192" href="/img/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">


    
  <meta name="image" property="og:image" content=""/>

<meta name="title" property="og:title" content="Starting with Hugo, the hard way" />
<meta name="description" property="og:description" content="Starting with Hugo, the hard way" />
<meta name="type" property="og:type" content="article" />
<meta name="url" property="og:url" content="http://dev.l1x.be/posts/2020/05/12/starting-with-hugo-the-hard-way/" />
<meta name="author" content="l1x">
  </head>
  
<body>

  <div class="content mw8-l center">
    <header class="flex mw8-l center">
    
    <div class="pt3">
      <img src="/img/apple-touch-icon.png" width="60">
    </div>

    <a href="/" class="title link pl3">
      <h1>
        l1x/dev
      </h1>
    </a>

</header>

    <h2 class="post-title"> Starting with Hugo, the hard way </h2>
  <div class="white"> 2020/05/12 | #hugo #go #liquid </div> 
  

  <div class="">
    <p>After many years on Jekyll I think the time is right to move to Hugo. Hugo is a static site generator written in Go using Liquid templating. After working with Hugo for couple of days, here are the pros and cons.</p>
<p>Pros:</p>
<ul>
<li>fast</li>
<li>lots of functionality built in</li>
</ul>
<p>Cons:</p>
<ul>
<li>documentation is useless for starters</li>
<li>it is not intuitive what is going on</li>
<li>most how-to start with using a complex template</li>
</ul>
<p>Based on these I this it is worth to write up how to get started.</p>
<h2 id="creating-a-new-empty-project">Creating a new empty project</h2>
<p>I am assuming you know how to install it on you OS and you are using Hugo 0.70.0 or compatible.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">hugo version
Hugo Static Site Generator v0.70.0/extended darwin/amd64 BuildDate: unknown
</code></pre></div><p>If you already have a directory you can navigate into it and issue the following:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">hugo new site .
</code></pre></div><p>This generates the following skeleton:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">$ find .
.
./archetypes
./archetypes/default.md
./content
./layouts
./static
./config.toml
./data
./themes
</code></pre></div><p>There really important parts for getting started:</p>
<ul>
<li>config.toml, this has the site configuration</li>
<li>content, it has the md files that will be rendered</li>
<li>layouts, html files used for the rendering of the content</li>
<li>static, static content that you can reference with in html wihtout any path so static/my_cat.jpg (on disk) -&gt; /my_cat.jpg (in html)</li>
</ul>
<h2 id="rendering-the-empty-site">Rendering the empty site</h2>
<p>Running hugo without any parameters will render (the right now empty) site.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">$ hugo
Building sites â€¦ WARN 2020/05/14 15:09:57 found no layout file <span style="color:#6ab825;font-weight:bold">for</span> <span style="color:#ed9d13">&#34;HTML&#34;</span> <span style="color:#6ab825;font-weight:bold">for</span> kind <span style="color:#ed9d13">&#34;taxonomyTerm&#34;</span>: 
You should create a template file which matches Hugo Layouts Lookup Rules <span style="color:#6ab825;font-weight:bold">for</span> this combination.
WARN 2020/05/14 15:09:57 found no layout file <span style="color:#6ab825;font-weight:bold">for</span> <span style="color:#ed9d13">&#34;HTML&#34;</span> <span style="color:#6ab825;font-weight:bold">for</span> kind <span style="color:#ed9d13">&#34;home&#34;</span>: 
You should create a template file which matches Hugo Layouts Lookup Rules <span style="color:#6ab825;font-weight:bold">for</span> this combination.
WARN 2020/05/14 15:09:57 found no layout file <span style="color:#6ab825;font-weight:bold">for</span> <span style="color:#ed9d13">&#34;HTML&#34;</span> <span style="color:#6ab825;font-weight:bold">for</span> kind <span style="color:#ed9d13">&#34;taxonomyTerm&#34;</span>: 
You should create a template file which matches Hugo Layouts Lookup Rules <span style="color:#6ab825;font-weight:bold">for</span> this combination.

                   | EN
-------------------+-----
  Pages            |  <span style="color:#3677a9">3</span>
  Paginator pages  |  <span style="color:#3677a9">0</span>
  Non-page files   |  <span style="color:#3677a9">0</span>
  Static files     |  <span style="color:#3677a9">0</span>
  Processed images |  <span style="color:#3677a9">0</span>
  Aliases          |  <span style="color:#3677a9">0</span>
  Sitemaps         |  <span style="color:#3677a9">1</span>
  Cleaned          |  <span style="color:#3677a9">0</span>

Total in <span style="color:#3677a9">9</span> ms
</code></pre></div><p>You can ignore the warnings for now, we will fix them later.</p>
<p>The content of the folder after rendering:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">$ find .
.
./archetypes
./archetypes/default.md
./resources
./resources/_gen
./resources/_gen/images
./resources/_gen/assets
./content
./public
./public/index.xml
./public/tags
./public/tags/index.xml
./public/sitemap.xml
./public/categories
./public/categories/index.xml
./layouts
./static
./config.toml
./data
./themes
</code></pre></div><p>The site got rendered into the public/ folder.</p>
<p>There are few see your site. Hugo has a built in HTTP server (hugo server) or you can use (python -m http.server). Using hugo server is better because it will automatically reload your site when you save anything in the hugo folder.</p>
<p>Using the D flag will include the draft content in the render.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">hugo server -D
Web Server is available at http://localhost:53905/ (<span style="color:#24909d">bind</span> address 127.0.0.1)
</code></pre></div><p>Opening the site will show you a completely empty page. Lets add some content to it.</p>
<h2 id="the-bare-minimal-site">The bare minimal site</h2>
<p>For the minimal example we need to create the following files</p>
<ul>
<li>layouts/_default/baseof.html</li>
<li>layouts/index.html</li>
</ul>
<p>baseof.html:</p>
<p>Content for the files:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-html" data-lang="html"><span style="color:#cd2828;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#6ab825;font-weight:bold">html</span> <span style="color:#bbb">lang</span>=<span style="color:#ed9d13">&#34;en&#34;</span>&gt;
  &lt;<span style="color:#6ab825;font-weight:bold">head</span>&gt;
  &lt;/<span style="color:#6ab825;font-weight:bold">head</span>&gt;
  &lt;<span style="color:#6ab825;font-weight:bold">body</span>&gt;
    {{ block &#34;main&#34; . }} 
      <span style="color:#999;font-style:italic">&lt;!-- content comes here --&gt;</span>
    {{ end }}
  &lt;/<span style="color:#6ab825;font-weight:bold">body</span>&gt;
&lt;/<span style="color:#6ab825;font-weight:bold">html</span>&gt;
</code></pre></div><p>index.html:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-html" data-lang="html">{{ define &#34;main&#34;}}
  &lt;<span style="color:#6ab825;font-weight:bold">div</span>&gt;Greetings!&lt;/<span style="color:#6ab825;font-weight:bold">div</span>&gt;
{{ end }}
</code></pre></div><p>Voila! Your new static site is up and running.</p>
<p>Few things to note:</p>
<ul>
<li>hugo uses a rule set to determine which layout it renders your content with</li>
</ul>
<p>You can read about it more here: <a href="https://gohugo.io/templates/lookup-order/">https://gohugo.io/templates/lookup-order/</a></p>
<ul>
<li>
<p>defaults live in _default</p>
</li>
<li>
<p>using baseof.html is a good idea (not sure why the documentation is not starting with this)</p>
</li>
</ul>
<h2 id="adding-css">Adding CSS</h2>
<p>Your website cannot live without CSS. Lets add some. I really like Tachyons and I imagine you might want to use something similar. The process is the same of any css file.</p>
<p>Creating the folder:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">mkdir -p assets/css
</code></pre></div><p>You can download the CSS file and put in in that folder or you can use it on your site with a CDN. I prefer to host it myself.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">wget https://your.framework.com/awesome.css -O assets/css/awesome.css
</code></pre></div><p>On the top of that you might want to use some custom CSS too.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">touch assets/css/style.css
</code></pre></div><p>Lets add these to our site. Before we do that. Let&rsquo;s introduce a new concept, partials. Partials are a good way to have small chunks of HTML that you want to add to many pages of your site. For example, HTML header (that loads the CSS for example) might look the same across all of you pages. Let&rsquo;s create a partial for that.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-bash" data-lang="bash">mkdir -p layouts/partials
</code></pre></div><p>We are creating a HTML file, layouts/partials/header.html with the following content:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-HTML" data-lang="HTML">{{ $awesome := resources.Get &#34;css/awesome.css&#34; | resources.Minify }}
&lt;<span style="color:#6ab825;font-weight:bold">link</span> <span style="color:#bbb">rel</span>=<span style="color:#ed9d13">&#34;stylesheet&#34;</span> <span style="color:#bbb">href</span>=<span style="color:#ed9d13">&#34;{{ $awesome.RelPermalink }}&#34;</span>&gt;

{{ $style := resources.Get &#34;css/style.css&#34; | resources.Minify }}
&lt;<span style="color:#6ab825;font-weight:bold">link</span> <span style="color:#bbb">rel</span>=<span style="color:#ed9d13">&#34;stylesheet&#34;</span> <span style="color:#bbb">href</span>=<span style="color:#ed9d13">&#34;{{ $style.RelPermalink }}&#34;</span>&gt;
</code></pre></div><p>This will add the CSS entries wherewer we include this partial. We can include it in baseof.html.</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-HTML" data-lang="HTML"><span style="color:#cd2828;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#6ab825;font-weight:bold">html</span> <span style="color:#bbb">lang</span>=<span style="color:#ed9d13">&#34;en&#34;</span>&gt;
  &lt;<span style="color:#6ab825;font-weight:bold">head</span>&gt;
    &lt;<span style="color:#6ab825;font-weight:bold">meta</span> <span style="color:#bbb">charset</span>=<span style="color:#ed9d13">&#34;utf-8&#34;</span>&gt;
    &lt;<span style="color:#6ab825;font-weight:bold">meta</span> <span style="color:#bbb">http-equiv</span>=<span style="color:#ed9d13">&#34;X-UA-Compatible&#34;</span> <span style="color:#bbb">content</span>=<span style="color:#ed9d13">&#34;IE=edge&#34;</span>&gt;
    &lt;<span style="color:#6ab825;font-weight:bold">meta</span> <span style="color:#bbb">name</span>=<span style="color:#ed9d13">&#34;viewport&#34;</span> <span style="color:#bbb">content</span>=<span style="color:#ed9d13">&#34;width=device-width, initial-scale=1&#34;</span>&gt;
    &lt;<span style="color:#6ab825;font-weight:bold">meta</span> <span style="color:#bbb">http-equiv</span>=<span style="color:#ed9d13">&#34;Content-Type&#34;</span> <span style="color:#bbb">content</span>=<span style="color:#ed9d13">&#34;text/html; charset=UTF-8&#34;</span>/&gt; 
    
    {{ partial &#34;header&#34; . }}
    
  &lt;/<span style="color:#6ab825;font-weight:bold">head</span>&gt;
  &lt;<span style="color:#6ab825;font-weight:bold">body</span>&gt;
    {{ block &#34;main&#34; . }} 
      <span style="color:#999;font-style:italic">&lt;!-- content comes here --&gt;</span>
    {{ end }}
  &lt;/<span style="color:#6ab825;font-weight:bold">body</span>&gt;
&lt;/<span style="color:#6ab825;font-weight:bold">html</span>&gt;
</code></pre></div><p>So far so good, CSS is loaded. Now, you can go down many paths going forward. In this guide I try to cover one way of building a landing page, that has only few HTML files and a bit of CSS. Even this can be done many ways. I am not sure if this is the right way, but this is how I did it for our landing page.</p>
<h2 id="adding-more-pages">Adding more pages</h2>
<p>You can go and try to find what is the way to add more pages to your website. My google searches were less then sufficient and I could find some angry people and some less the productive threads about this. One example</p>
<p><a href="https://github.com/gohugoio/hugo/issues/679">https://github.com/gohugoio/hugo/issues/679</a></p>
<p>At this stage I am not even sure that you can do simple matching between files in content and layouts so I accepted that Hugo forces you to create folders instead.</p>
<p>My content looks like this:</p>
<p>content/about.md -&gt; /about/index.html</p>
<p>The layout is layout/about/single.html.</p>
<p>about.md:</p>
<p>(There is no point)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-markdown" data-lang="markdown">---
type: &#34;about&#34;
title: &#34;About&#34;
date: 2020-05-12T14:31:21+02:00
description: &#34;About&#34;
tags:
    <span style="color:#6ab825;font-weight:bold">-</span> about
draft: false
---
</code></pre></div>
  </div>


  </div>
</body>
<footer class="mw8-l center pa3">

  <a href="https://github.com/l1x" class="pa2">
    <i class="fab fa-github fa-2x"></i>
  </a>

  <a href="https://twitter.com/lix" class="pa2">
    <i class="fab fa-twitter fa-2x"></i>
  </a>

  <a href="https://www.linkedin.com/in/iszukacs" class="pa2">
    <i class="fab fa-linkedin fa-2x"></i>
  </a>
    
  <a href="https://dev.to/l1x" class="pa2">
    <i class="fab fa-dev fa-2x"></i>
  </a>

</footer>
</html>